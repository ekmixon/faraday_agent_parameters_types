Encode/Decode the types, plus identifier logic
